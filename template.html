<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
	<title>Ramiro S back N</title>
    <link rel="stylesheet" href="./css.css">
</head>
<body>
	<div class="contenedor">
		<header class="header">
			<h2>SOIPCDE <em>Sistema para la Organizacion e Integracion de Paginas
                Con Contenido Dinamico Y Estatico.</em></h2>
		</header>
		<main class="contenido">
			<h1>Como se crea un unico punto de acceso.</h1>
			<p>
                Para obtener un unico punto de acceso
                se necesitan de dos archivos esencialmente
                el archivo .htaccess y el archivo index
				<br><br>
                en el archivo index debera estar almacenado
                el codigo referente al manejo de las rutas 
                mientras que en el archivo .htaccess deberas
                escribir el siguiente codigo :
				<br><br>
                <pre>
                Options -MultiViews
                RewriteEngine On 
                RewriteCond %{REQUEST_FILENAME} !-f 
                RewriteRule ^ YourFileName.php [QSA,L]
                </pre>
			</p>
            <h2>Que hay en el index</h2>
            <p>
                php <br>
                    require_once './Autoload.php'; <br>
                    require_once './UrlsRegister.php';<br>
                    require_once './Switcher.php';<br>
                ?>
            </p>
            <h2>Que hay en el Autoload</h2>
            <p>
                php<br>
                    spl_autoload_register (function($class) {<br>
                        $ruta = "C:/xampp/htdocs/".$class.".php";<br>
                        if (file_exists($ruta)) {<br>
                            require_once $ruta;<br>
                        }<br>
                    });<br>
                ?>
            </p>
            <h2>el Autoload Carga la Clase FiltrarUrl</h2>
            <p>
                php<br>
                    class FiltrarUrl {<br>
                        private $url;<br>
                        private $urls;<br>
                        public function __construct () {<br>
                            $url = $_SERVER['REQUEST_URI'];<br>
                            $url = trim($url,'/');<br>
                            $this->url = $url;<br>
                        }<br>
                        public function url () {<br>
                            return $this->url;<br>
                        }<br>
                        public function saveUrl ($url) {<br>
                            $this->urls[] = $url;<br>
                        }<br>
                        public function urls () {<br>
                            return $this->urls;<br>
                        }<br>
                    }<br>
                ?>
            </p>
            <h2>Que hay en el UrlsRegister</h2>
            <p>
                php<br>
                    $endpoint = new FiltrarUrl ();<br>
                    $endpoint->saveUrl('login');<br>
                    $endpoint->saveUrl('register');<br>
                ?>
            </p>
            <p>
                En este archivo almacenaremos 
                todas las rutas que seran validas
                en este proyecto.
            </p>
            <h2>Que hay en el Switcher</h2>
            <p>
                php<br>
                    $urls = $endpoint->urls();<br>
                    $urlExists = false;<br>
                    for ($i = 0; $i < count($urls); $i++) {<br>
                        if($endpoint->url() == $urls[$i]){<br>
                            $urlExists = true;<br>
                            break;<br>
                        }<br>
                    } <br>

                    if ($urlExists) {<br>
                        switch ($endpoint->url()) {<br>
                            case "login": echo "Login page"; break;<br>
                            case "register": echo "Register page"; break;<br>
                        }<br>
                    } else {<br>
                        require_once './LaPlantilla.html';<br>
                    }<br>
                ?>
            </p>
            <p>
                El Switcher se encarga de verificar
                que el url ingresado por el navegador
                este registrado y una vez se verifica 
                su existencia se procede a realizar
                la busqueda de las acciones requeridas.
            </p>
		</main>
		<aside class="sidebar">
            <img src="./img/bgsidebar.jpg" alt="logo" width="100%" height="100%">
		</aside>
		<div class="widget-1">
			<h3>End Points =></h3>
		</div>
		<div class="widget-2">
            <div><ul>
                <li>
                    <p>
                    http://soipd.test/
                    </p>
                </li>
                <li>
                    <p>
                    http://soipd.test/login
                    </p>
                </li>
                <li>
                    <p>
                    http://soipd.test/register
                    </p>
                </li>
            </ul></div>
		</div>
		<footer class="footer">
			<h3>&copy; Ramiro G. 2023.</h3>
		</footer>
	</div>
</body>
</html>